---
// src/components/Navbar.astro
---
<nav class="fixed top-0 w-full z-50 bg-slate-950/80 backdrop-blur-xl border-b border-white/5">
    
    <div class="absolute inset-0 opacity-[0.03] pointer-events-none bg-[url('https://grainy-gradients.vercel.app/noise.svg')]"></div>

    <div class="w-full px-6 py-4 flex justify-between items-center max-w-7xl mx-auto relative z-10">
        
        <a href="/" class="relative group no-underline flex items-center gap-4">
            <div class="glitch-container">
                <span class="glitch text-2xl font-bold font-mono text-white tracking-tighter" data-text="<Andres />">
                    &lt;Andres /&gt;
                </span>
            </div>
            
            <div class="hidden sm:flex items-center gap-2 px-3 py-1 rounded-full bg-slate-900/50 border border-slate-700/50">
                <span class="relative flex h-2 w-2">
                  <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                  <span class="relative inline-flex rounded-full h-2 w-2 bg-green-500"></span>
                </span>
                <span class="text-[10px] font-mono text-green-400 tracking-widest">SYS.ONLINE</span>
            </div>
        </a>

        <div class="hidden md:flex gap-8 items-center bg-slate-900/60 px-6 py-2 rounded-full border border-white/10 backdrop-blur-md shadow-lg shadow-black/20">
            
            {['Proyectos', 'Habilidades'].map((item, index) => (
                <a href={`#${item.toLowerCase()}`} class="relative group px-2 py-1">
                    <span class="relative z-10 text-sm font-mono font-bold text-slate-400 group-hover:text-white transition-colors duration-300 flex items-center gap-2">
                        <span class="text-xs text-green-500/50 group-hover:text-green-400 transition-colors">0{index + 1}.</span>
                        {item}
                    </span>
                    
                    <div class="absolute inset-0 bg-green-400/10 blur-md rounded-lg scale-0 group-hover:scale-100 transition-transform duration-300"></div>
                    
                    <div class="absolute -bottom-1 left-0 w-0 h-[2px] bg-gradient-to-r from-green-400 to-cyan-400 group-hover:w-full transition-all duration-300 ease-out shadow-[0_0_10px_rgba(34,211,238,0.8)]"></div>
                </a>
            ))}

            <div class="h-5 w-[1px] bg-slate-700/50"></div>

            <a href="#contacto" class="relative group overflow-hidden rounded-md">
                <div class="absolute inset-0 bg-gradient-to-r from-green-600 via-cyan-600 to-green-600 opacity-20 group-hover:opacity-100 transition-opacity duration-500 animate-gradient-xy"></div>
                
                <div class="relative px-5 py-2 bg-slate-950/80 border border-green-500/30 group-hover:border-green-400/80 flex items-center gap-3 transition-all rounded-md backdrop-blur-md">
                    <span class="relative flex h-2 w-2">
                        <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75 group-hover:bg-green-400"></span>
                        <span class="relative inline-flex rounded-full h-2 w-2 bg-red-500 group-hover:bg-green-500 transition-colors"></span>
                    </span>
                    <span class="font-mono font-bold text-xs tracking-widest text-slate-300 group-hover:text-white group-hover:shadow-[0_0_15px_rgba(74,222,128,0.6)] transition-all">
                        INIT_CONTACT
                    </span>
                </div>
            </a>
        </div>
    </div>
    
    <div class="absolute bottom-0 left-0 w-full h-[2px] overflow-hidden shadow-[0_0_20px_rgba(34,211,238,0.5)]">
        <div class="absolute top-0 left-0 h-full w-[60%] bg-gradient-to-r from-transparent via-green-400 via-cyan-400 to-transparent animate-plasma-flow blur-[1px]"></div>
        <div class="absolute top-0 left-0 h-full w-[60%] bg-gradient-to-r from-transparent via-white to-transparent animate-plasma-flow opacity-70"></div>
    </div>
</nav>

<style>
    /* --- ANIMACIONES --- */
    
    /* 1. Plasma Flow (Láser footer) */
    @keyframes plasma-flow {
        0% { transform: translateX(-100%) skewX(-20deg); }
        100% { transform: translateX(250%) skewX(-20deg); }
    }
    .animate-plasma-flow {
        animation: plasma-flow 2.5s cubic-bezier(0.4, 0, 0.2, 1) infinite;
    }

    /* 2. Gradient XY (Fondo botón contacto) */
    @keyframes gradient-xy {
        0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
    }
    .animate-gradient-xy {
        background-size: 200% 200%;
        animation: gradient-xy 3s ease infinite;
    }

    /* 3. Glitch Effect (Logo) */
    .glitch {
        position: relative;
        color: white;
    }
    .glitch::before, .glitch::after {
        content: attr(data-text);
        position: absolute;
        top: 0;
        color: white;
        background: #020617;
        overflow: hidden;
        clip: rect(0, 900px, 0, 0);
    }
    .glitch::before {
        left: -2px;
        text-shadow: 2px 0 #ff00c1; 
        animation: noise-anim-2 3s infinite linear alternate-reverse;
    }
    .glitch::after {
        left: 2px;
        text-shadow: -2px 0 #00fff9; 
        animation: noise-anim 2s infinite linear alternate-reverse;
    }

    @keyframes noise-anim {
        0% { clip: rect(12px, 9999px, 32px, 0); }
        50% { clip: rect(64px, 9999px, 12px, 0); }
        100% { clip: rect(4px, 9999px, 86px, 0); }
    }
    @keyframes noise-anim-2 {
        0% { clip: rect(82px, 9999px, 2px, 0); }
        50% { clip: rect(14px, 9999px, 42px, 0); }
        100% { clip: rect(3px, 9999px, 90px, 0); }
    }
</style>